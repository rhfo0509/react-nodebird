{"version":3,"file":"../pages/signup.js","mappings":"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","sources":["webpack://ch0/./pages/signup.js","webpack://ch0/external commonjs \"antd\"","webpack://ch0/external commonjs \"next-redux-wrapper\"","webpack://ch0/external commonjs \"next/dist/shared/lib/app-router-context.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/head-manager-context.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/is-plain-object.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/mitt.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/page-path/denormalize-page-path.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router-context.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/add-path-prefix.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/compare-states.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/format-next-pathname-info.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/format-url.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/get-next-pathname-info.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/is-bot.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/parse-path.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/path-has-prefix.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/remove-trailing-slash.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/resolve-rewrites.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://ch0/external commonjs \"next/dist/shared/lib/utils.js\"","webpack://ch0/external commonjs \"next/head\"","webpack://ch0/external commonjs \"next/router\"","webpack://ch0/external commonjs \"react\"","webpack://ch0/external commonjs \"react-redux\"","webpack://ch0/external commonjs \"react/jsx-runtime\"","webpack://ch0/external commonjs \"redux\"","webpack://ch0/external commonjs \"redux-devtools-extension\"","webpack://ch0/external commonjs \"redux-saga/effects\"","webpack://ch0/external commonjs \"styled-components\"","webpack://ch0/external module \"axios\"","webpack://ch0/external module \"immer\"","webpack://ch0/external module \"redux-saga\""],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Router from \"next/router\";\nimport Head from \"next/head\";\nimport { Button, Checkbox, Form, Input } from \"antd\";\nimport styled from \"styled-components\";\nimport { END } from \"redux-saga\";\nimport axios from \"axios\";\nimport wrapper from \"../store/configureStore\";\n\nimport useInput from \"../hooks/useInput\";\nimport AppLayout from \"../components/AppLayout\";\n\nimport { SIGN_UP_REQUEST, SIGN_UP_RESET, LOAD_MY_INFO_REQUEST } from \"../reducers/user\";\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n\nconst signup = () => {\n  const dispatch = useDispatch();\n  const { signUpLoading, signUpDone, signUpError, logInDone, me } = useSelector(\n    (state) => state.user\n  );\n\n  if (me) {\n    Router.replace(\"/\");\n  }\n\n  useEffect(() => {\n    if (logInDone) {\n      Router.replace(\"/\");\n    }\n  }, [logInDone]);\n\n  useEffect(() => {\n    if (signUpDone) {\n      Router.replace(\"/\");\n      dispatch({ type: SIGN_UP_RESET });\n    }\n  }, [signUpDone]);\n\n  useEffect(() => {\n    if (signUpError) {\n      alert(signUpError);\n      dispatch({ type: SIGN_UP_RESET });\n    }\n  }, [signUpError]);\n\n  const [email, onChangeEmail] = useInput(\"\");\n  const [nickname, onChangeNickname] = useInput(\"\");\n  const [password, onChangePassword] = useInput(\"\");\n\n  const [passwordCheck, setPasswordCheck] = useState(\"\");\n  const [passwordError, setPassworkError] = useState(false);\n  // \"비밀번호 확인\"의 경우 비밀번호와 비밀번호 확인이 일치하는지 여부를 검사하는 로직을 추가적으로 작성해야 해서 custom hook으로 합쳐줄 수 없다.\n  const onChangePasswordCheck = useCallback(\n    (e) => {\n      setPasswordCheck(e.target.value);\n      setPassworkError(e.target.value !== password);\n    },\n    [password]\n  );\n\n  const [term, setTerm] = useState(\"\");\n  const [termError, setTermError] = useState(false);\n  const onChangeTerm = useCallback((e) => {\n    setTerm(e.target.checked);\n    // 약관동의X -> 약관동의O 가 되었을 때 termError를 true->false로 바꿔주기 위함\n    setTermError(false);\n  }, []);\n\n  const onSubmit = useCallback(() => {\n    if (password !== passwordCheck) {\n      return setPassworkError(true);\n    }\n    if (!term) {\n      return setTermError(true);\n    }\n\n    console.log(email, nickname, password);\n    dispatch({\n      type: SIGN_UP_REQUEST,\n      data: { email, nickname, password },\n    });\n  }, [email, password, passwordCheck, term]);\n\n  return (\n    <>\n      <Head>\n        <title>회원가입 | NodeBird</title>\n      </Head>\n      <AppLayout>\n        <Form onFinish={onSubmit}>\n          <div>\n            <label htmlFor=\"user-email\">이메일</label>\n            <br />\n            <Input\n              name=\"user-email\"\n              value={email}\n              type=\"email\"\n              required\n              onChange={onChangeEmail}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"user-nickname\">닉네임</label>\n            <br />\n            <Input\n              name=\"user-nickname\"\n              value={nickname}\n              required\n              onChange={onChangeNickname}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"user-password\">패스워드</label>\n            <br />\n            <Input\n              name=\"user-password\"\n              type=\"password\"\n              value={password}\n              required\n              onChange={onChangePassword}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"user-password-check\">패스워드체크</label>\n            <br />\n            <Input\n              name=\"user-password\"\n              type=\"password\"\n              value={passwordCheck}\n              required\n              onChange={onChangePasswordCheck}\n            />\n            {passwordError && (\n              <ErrorMessage>비밀번호가 일치하지 않습니다.</ErrorMessage>\n            )}\n          </div>\n          <div>\n            <Checkbox name=\"user-term\" checked={term} onChange={onChangeTerm}>\n              제로초 말을 잘 들을 것을 동의합니다.\n            </Checkbox>\n            {termError && (\n              <ErrorMessage>약관에 동의하셔야 합니다.</ErrorMessage>\n            )}\n          </div>\n          <div style={{ marginTop: 10 }}>\n            <Button type=\"primary\" htmlType=\"submit\" loading={signUpLoading}>\n              가입하기\n            </Button>\n          </div>\n        </Form>\n      </AppLayout>\n    </>\n  );\n};\n\nexport const getServerSideProps = wrapper.getServerSideProps(\n  (store) =>\n    async ({ req }) => {\n      const cookie = req ? req.headers.cookie : \"\";\n      axios.defaults.headers.Cookie = \"\";\n      if (req && cookie) {\n        axios.defaults.headers.Cookie = cookie;\n      }\n      store.dispatch({ type: LOAD_MY_INFO_REQUEST });\n      store.dispatch(END);\n      await store.sagaTask.toPromise();\n    }\n);\n\nexport default signup;\n","module.exports = require(\"antd\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/shared/lib/app-router-context.js\");","module.exports = require(\"next/dist/shared/lib/head-manager-context.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/is-plain-object.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/page-path/denormalize-page-path.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/add-path-prefix.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/compare-states.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/format-next-pathname-info.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/format-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-next-pathname-info.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-bot.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-path.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/path-has-prefix.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/remove-trailing-slash.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/resolve-rewrites.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"styled-components\");","module.exports = import(\"axios\");;","module.exports = import(\"immer\");;","module.exports = import(\"redux-saga\");;"],"names":["React","useCallback","useEffect","useState","useDispatch","useSelector","Router","Head","Button","Checkbox","Form","Input","styled","END","axios","wrapper","useInput","AppLayout","SIGN_UP_REQUEST","SIGN_UP_RESET","LOAD_MY_INFO_REQUEST","ErrorMessage","div","signup","dispatch","signUpLoading","signUpDone","signUpError","logInDone","me","state","user","replace","type","alert","email","onChangeEmail","nickname","onChangeNickname","password","onChangePassword","passwordCheck","setPasswordCheck","passwordError","setPassworkError","onChangePasswordCheck","e","target","value","term","setTerm","termError","setTermError","onChangeTerm","checked","onSubmit","console","log","data","marginTop","getServerSideProps","store","req","cookie","headers","defaults","Cookie","sagaTask","toPromise"],"sourceRoot":""}